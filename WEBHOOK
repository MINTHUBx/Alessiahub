-- ðŸ“˜ MOREIRA METHOD - Discord Webhook Detector
-- Corrige errores y detecta objetos de la base del jugador

local HttpService = game:GetService("HttpService")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Workspace = game:GetService("Workspace")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

-- ðŸ”— Webhook de Discord (coloca tu URL completa)
local WEBHOOK_URL = "https://discord.com/api/webhooks/1405766174419189842/b8qzM3d6u8a_OFGx5zIUsrSnp7TUkpCUCV4Y6tU_ZkSTMsHzf9XwEoWJzm9AqWbV3o6F"  

-- Evento remoto para comunicar cliente-servidor
local SendDiscordWebhook = ReplicatedStorage:WaitForChild("SendDiscordWebhook")

-- FunciÃ³n que envÃ­a mensaje al webhook
local function sendToDiscord(content)
    local data = {
        ["content"] = content
    }
    local jsonData = HttpService:JSONEncode(data)
    local success, err = pcall(function()
        HttpService:PostAsync(WEBHOOK_URL, jsonData, Enum.HttpContentType.ApplicationJson)
    end)
    if not success then
        warn("Error enviando al webhook:", err)
    end
end

-- ConexiÃ³n del evento remoto en servidor
SendDiscordWebhook.OnServerEvent:Connect(function(player, message)
    local content = player.Name .. " triggered: " .. message
    sendToDiscord(content)
end)

-- Lista de nombres de objetos a monitorear
local objectNames = {
    "la grande combinasion", "Ketchuru and Musturu", "Ketupat Kepat", "Burguro and Fryuro", "La Supreme Combinasion",
    "Tacorita bicicleta", "Los tacoritas", "Garama and Madundung", "Dragon Cannelloni", "Esok Sekolah",
    "Tang Tang Keletang", "Strawberry Elephant", "La Secret Combinasion", "Tralaledon", "Eviledon",
    "Spaghetti Tualetti", "Los Hotspotsitos", "Los Mobilis", "Los 67", "Money Money Puggy",
    "Celularcini Viciosini", "Los Bros", "Las Sis", "Los Primos", "La Spooky Grande",
    "Spooky and Pumpky", "Chillin Chili", "Tictac Sahur", "La Extinct Grande", "Nuclearo Dinossauro"
}

-- FunciÃ³n para conectar Touched a un objeto
local function connectTouch(obj, displayName)
    if obj:IsA("BasePart") then
        obj.Touched:Connect(function(hit)
            local humanoid = hit.Parent:FindFirstChild("Humanoid")
            if humanoid and humanoid.Parent == LocalPlayer.Character then
                -- Enviar mensaje al servidor
                SendDiscordWebhook:FireServer(displayName)
            end
        end)
    elseif obj:IsA("Model") then
        for _, child in ipairs(obj:GetDescendants()) do
            if child:IsA("BasePart") then
                connectTouch(child, displayName)
            end
        end
    end
end

-- Conectar todos los objetos que ya existen
for _, name in ipairs(objectNames) do
    local obj = Workspace:FindFirstChild(name)
    if obj then
        connectTouch(obj, name)
    end
end

-- Conectar objetos que aparezcan despuÃ©s del inicio
Workspace.ChildAdded:Connect(function(child)
    for _, name in ipairs(objectNames) do
        if child.Name == name then
            connectTouch(child, name)
        end
    end
end)
