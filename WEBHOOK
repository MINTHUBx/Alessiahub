-- Roblox Lua
local HttpService = game:GetService("HttpService")
local webhookUrl = "https://discord.com/api/webhooks/1427117977899237406/S4r8I4aIhw9l4TJeBKy6AFIJeCFZOh8gfQ0wqoa8QFv9o7nL1FnO9--4t9CQm-aCIWbL" -- Reemplaza por tu URL real

local objetosBuscados = {
    "la grande combinasion", "Ketchuru and Musturu", "Ketupat Kepat", "Burguro and Fryuro", "La Supreme Combinasion",
    "Tacorita bicicleta", "Los tacoritas", "Garama and Madundung", "Dragon Cannelloni", "Esok Sekolah",
    "Tang Tang Keletang", "Strawberry Elephant", "La Secret Combinasion", "Tralaledon", "Eviledon",
    "Spaghetti Tualetti", "Los Hotspotsitos", "Los Mobilis", "Los 67", "Money Money Puggy",
    "Celularcini Viciosini", "Los Bros", "Las Sis", "Los Primos", "La Spooky Grande",
    "Spooky and Pumpky", "Chillin Chili", "Tictac Sahur", "La Extinct Grande", "Nuclearo Dinossauro"
}

local function obtenerObjetosEnBase()
    local encontrados = {}
    local player = game.Players.LocalPlayer
    local base = workspace:FindFirstChild(player.Name .. "Base") or workspace:FindFirstChild(player.Name)
    -- Si tu base se llama distinto, ajusta esta línea.
    if base then
        for _, nombre in ipairs(objetosBuscados) do
            if base:FindFirstChild(nombre) then
                table.insert(encontrados, nombre)
            end
        end
    end
    return encontrados
end

local function enviarWebhook()
    local objetos = obtenerObjetosEnBase()
    if #objetos == 0 then
        print("No se encontraron objetos en la base.")
        return
    end

    local data = {
        usuario = game.Players.LocalPlayer.Name,
        objetos = objetos
    }

    local payload = HttpService:JSONEncode(data)

    -- Enviar POST al webhook
    local ok, err = pcall(function()
        HttpService:PostAsync(webhookUrl, payload, Enum.HttpContentType.ApplicationJson)
    end)

    if ok then
        print("Objetos enviados al webhook correctamente.")
    else
        warn("Error al enviar al webhook:", err)
    end
end

-- Llama a enviarWebhook cuando quieras hacerlo (por ejemplo, al presionar un botón)
enviarWebhook()
